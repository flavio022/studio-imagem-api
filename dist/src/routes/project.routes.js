"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.projectRoutes = void 0;
var express_1 = require("express");
var CreateProjectController_1 = require("../modules/user/usecases/createProject/CreateProjectController");
var ListProjectsController_1 = require("../modules/user/usecases/listProjects/ListProjectsController");
var ListUserProjectsController_1 = require("../modules/user/usecases/listUserProjects/ListUserProjectsController");
var ListProjectsByEmailController_1 = require("../modules/user/usecases/listProjectsByEmail/ListProjectsByEmailController");
var ensureAuthenticated_1 = require("../middlewares/ensureAuthenticated");
var multer_1 = __importDefault(require("multer"));
var upload_1 = __importDefault(require("../config/upload"));
var DeleteProjectController_1 = require("../modules/user/usecases/deleteProject/DeleteProjectController");
var projectRoutes = express_1.Router();
exports.projectRoutes = projectRoutes;
var createProjectController = new CreateProjectController_1.CreateProjectController();
var listProjectsController = new ListProjectsController_1.ListProjectsController();
var listUserProjectsController = new ListUserProjectsController_1.ListUserProjectsController();
var listProjectsByEmailController = new ListProjectsByEmailController_1.ListProjectsByEmailController();
var deleteProjectController = new DeleteProjectController_1.DeleteProjectController();
var uploadAvatar = multer_1.default(upload_1.default);
projectRoutes.use(ensureAuthenticated_1.ensureAuthetnticated);
projectRoutes.post("/", uploadAvatar.single("image"), createProjectController.handler);
projectRoutes.get("/", listProjectsController.handle);
projectRoutes.get("/me", listUserProjectsController.handle);
projectRoutes.get("/all", listProjectsByEmailController.handle);
projectRoutes.delete("/:id", deleteProjectController.handle);
